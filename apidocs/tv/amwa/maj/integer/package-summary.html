<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri Feb 05 16:09:16 GMT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>tv.amwa.maj.integer (Media Authoring with Java API)</title>
<meta name="date" content="2016-02-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="tv.amwa.maj.integer (Media Authoring with Java API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
</ul>
<div class="aboutLanguage">Media Authoring with Java API (MAJ)</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../tv/amwa/maj/industry/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../tv/amwa/maj/io/aaf/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?tv/amwa/maj/integer/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;tv.amwa.maj.integer</h1>
<div class="docSummary">
<div class="block">Provides annotations to label that a value of a Java primitive type in the current
context should be interpreted as a particular AAF integer data type.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Annotation Types Summary table, listing annotation types, and an explanation">
<caption><span>Annotation Types Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Annotation Type</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int16.html" title="annotation in tv.amwa.maj.integer">Int16</a></td>
<td class="colLast">
<div class="block">Labels a 16-bit 2's complement signed integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int16Array.html" title="annotation in tv.amwa.maj.integer">Int16Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 16-bit 2's complement signed integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int32.html" title="annotation in tv.amwa.maj.integer">Int32</a></td>
<td class="colLast">
<div class="block">Labels a 32-bit 2's complement integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int32Array.html" title="annotation in tv.amwa.maj.integer">Int32Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 32-bit 2's complement signed integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int64.html" title="annotation in tv.amwa.maj.integer">Int64</a></td>
<td class="colLast">
<div class="block">Labels a 64-bit 2's complement integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int64Array.html" title="annotation in tv.amwa.maj.integer">Int64Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 64-bit 2's complement signed integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int8.html" title="annotation in tv.amwa.maj.integer">Int8</a></td>
<td class="colLast">
<div class="block">Labels an 8-bit 2's complement integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/Int8Array.html" title="annotation in tv.amwa.maj.integer">Int8Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 8-bit 2's complement signed integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt16.html" title="annotation in tv.amwa.maj.integer">UInt16</a></td>
<td class="colLast">
<div class="block">Labels an unsigned 16-bit integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt16Array.html" title="annotation in tv.amwa.maj.integer">UInt16Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 16-bit unsigned integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt32.html" title="annotation in tv.amwa.maj.integer">UInt32</a></td>
<td class="colLast">
<div class="block">Labels an unsigned 32-bit integer value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt32Array.html" title="annotation in tv.amwa.maj.integer">UInt32Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 32-bit unsigned integer values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt32Set.html" title="annotation in tv.amwa.maj.integer">UInt32Set</a></td>
<td class="colLast">
<div class="block">Labels a set containing 8-bit 2's complement integer values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt64.html" title="annotation in tv.amwa.maj.integer">UInt64</a></td>
<td class="colLast">
<div class="block">Labels an unsigned 64-bit integer value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt64Array.html" title="annotation in tv.amwa.maj.integer">UInt64Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 64-bit unsigned integer values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt8.html" title="annotation in tv.amwa.maj.integer">UInt8</a></td>
<td class="colLast">
<div class="block">Labels an unsigned 8-bit integer value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../tv/amwa/maj/integer/UInt8Array.html" title="annotation in tv.amwa.maj.integer">UInt8Array</a></td>
<td class="colLast">
<div class="block">Labels an array of 8-bit unsigned integer values.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package tv.amwa.maj.integer Description">Package tv.amwa.maj.integer Description</h2>
<div class="block"><p>Provides annotations to label that a value of a Java primitive type in the current
context should be interpreted as a particular AAF integer data type. These annotations
are provided to guide a developer as to the interpretation they should make of an AAF
integer-type property. In particular, Java does not have unsigned integer data types and
the AAF does. From this additional information, a developer may decide to add additional
validation to prevent non-negative numbers from being stored in a signed value or to use
bitwise operators for arithmetic operations.</p>

<h2>Integer annotation usage</h2>

<p>To indicate that a method returns a value of AAF data type <code>UInt32</code>, the Java
<code>int</code> keyword is annotated with <code>@UInt32</code>. For example:</p>

<pre>
    public @UInt32 int countPropertyDefinitions();
</pre>

<p>To indicate that a method expects a value of AAF data type <code>UInt8</code> as a
parameter, the Java <code>byte</code> keyword is annotated with <code>@UInt8</code>. The
following example shows how the annotation can also be applied to arrays:</p>

<pre>
    public void setUniversalLabel(@UInt8 byte[] label);
</pre>

<h2 id="AAFIntegersInJava">AAF integer types in Java</h2>

<p>In general, AAF <em>primitive</em> data types map well onto the Java primitive types.
This is also the case for signed integer data types, such as <code>Int16</code> or
<code>Int32</code>. However, as Java does not have the concept of an unsigned integer
data type, issues may arise when mapping AAF unsigned integer types, such as <code>UInt8</code>
or <code>UInt32</code>, onto equivalent Java types.</p>

<p>Without the annotations of this package, it would not be possible to discover the AAF data type
of a value from its Java equivalent. This is illustrated in the following table that shows the
mappings from AAF integer data types to Java types:</p>

<center>
<table border="2" id="aafIntegerToJavaType">
<thead>
<tr><td>AAF type</td><td>Java type</td></tr>
</thead>
<tbody>
<tr><td><code>Int8</code></td><td><code>byte</code></td></tr>
<tr><td><code>Int16</code></td><td><code>short</code></td></tr>
<tr><td><code>Int32</code></td><td><code>int</code></td></tr>
<tr><td><code>Int64</code></td><td><code>long</code></td></tr>
<tr><td><code>UInt8</code></td><td><code>byte</code></td></tr>
<tr><td><code>UInt16</code></td><td><code>short</code></td></tr>
<tr><td><code>UInt32</code></td><td><code>int</code></td></tr>
<tr><td><code>UInt64</code></td><td><code>long</code></td></tr>
</tbody>
</table>
</center>

<p>All Java versions of AAF types use the same number of bits in their representation
as specified for the AAF type. This provides an efficient on-disk and in memory representation
of AAF values in Java applications based on this API. However, this efficiency comes at
the cost of ambiguity arising from possible interpretations of the AAF unsigned integer data
types. The choice to use an unsigned value for an AAF property may have been made to:</p>

<ul>
<li>indicate that a value should be non-negative, e.g. property <code>DisplayWidth</code>
on class <code>DigitalImageDescriptor</code> with type <code>UInt32</code>;</li>
<li>represent a bit field, such as the <code>data1</code> part of the <code>AUID</code>
structure.</li>
</ul>

<p>Wherever possible, the annotations provided in this package are used to indicate what the
interpretation of a Java value as an AAF value should be. In the case of unsigned values, a
developer should be aware that different interpretations of the signed bit may be important.
In the <code>DisplayWidth</code> example given above, if a value of 2<sup>32</sup> provides enough
head room for a scalar value then a value of 2<sup>31</sup>, the Java maximum integer value, is
also likely to be fine. However, if a particular application uses 2<sup>32</sup> as an
AAF-legal application-specific flag, then this value may cause problems in the Java domain if
left unchecked.</p>

<p>For bit fields, Java is capable of representing AAF values bit-for-bit and has bitwise operators
that treat the sign bit of a 2's complement number as if it has no special significance (using right-shift
'<code>&gt;&gt;&gt;</code>'). Also, for any Java integer type, casting an unsigned value for a value
larger than Java's maximum value preserves its bit pattern. For example,
<code>UInt8</code> value <code>254</code> is represented
by bit pattern <code>11111110</code>. The Java casting expression <code>(byte)&nbsp;254</code> casts unsigned
value <code>254</code> to <code>-2</code> as a signed Java byte, with corresponding bit pattern
<code>11111110</code>. As long as care is taken over the use of bitwise operators, it is possible to store
AAF unsigned integers for bit fields or byte sequences as Java primitive types.</p>

<p>It would be useful for future versions of the AAF specification to include an indication of the
reason for using an unsigned data type for a particular property. This could take the form of
informative notes in the specification or be more explicitly specified as <em>facets</em> as
defined in the <a href="http://www.w3.org/TR/xmlschema-2/#facets">XML Schema Datatypes
specification</a>.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../tv/amwa/maj/meta/TypeDefinitionInteger.html" title="interface in tv.amwa.maj.meta"><code>TypeDefinitionInteger</code></a></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
</ul>
<div class="aboutLanguage">Media Authoring with Java API (MAJ)</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../tv/amwa/maj/industry/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../tv/amwa/maj/io/aaf/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?tv/amwa/maj/integer/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>(c)2007-2016 Richard Cartwright, all rights reserved. Licensed 						under Apache 2 license and subject to the AMWA IPR policy.</small></p>
</body>
</html>
